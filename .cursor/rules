# Robô MultiPost — Cursor Rules

## Project
Fork of Postiz (AGPL-3.0). Social media scheduler for the Automação Sem Limites community.
Read AGENTS.md for full context before working on any feature.

## Package Manager
PNPM only. Never use npm or yarn.

## Backend (apps/backend — NestJS)
- Layer pattern: Controller → Service → Repository (never skip)
- Business logic lives in libraries/nestjs-libraries/src/
- Controllers only import from libs

## Frontend (apps/frontend — Next.js 14)
- SWR for all data fetching via useFetch from libraries/helpers/src/utils/custom.fetch.tsx
- Each useSWR must be in its own dedicated hook (react-hooks/rules-of-hooks)
- No eslint-disable-next-line
- No npm component libraries — write native components
- Check apps/frontend/src/app/colors.scss and global.scss before styling
- --color-custom* variables are deprecated, do not use

## Git Strategy
- postiz branch: upstream mirror only, never commit customizations
- main: all development and customizations
- release: stable production version, Docker image built from here
- Never force push, never reset --hard without explicit user approval

## Principles
- Document-First: write docs before opening PR
- API-First: define API contract before implementing

## Key Files
- AGENTS.md — full project context
- PRD.md — product requirements
- CLAUDE.md — detailed dev instructions
- libraries/nestjs-libraries/src/database/prisma/schema.prisma — DB schema
